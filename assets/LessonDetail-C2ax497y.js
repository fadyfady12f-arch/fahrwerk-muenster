import{c as W,r as a,j as e,U as I,P as T,C as L,M}from"./index-D95zyShL.js";import{g as l}from"./index-DDlvirwQ.js";import{A as D}from"./arrow-left-C2mV1hRv.js";import{C as P}from"./circle-check-big-BWLjY8Ib.js";import{C as A}from"./circle-CMFmPppP.js";import{S as E}from"./star-Cfqp6jGk.js";import{S as $}from"./send-D5YFZ0nt.js";import{S as F}from"./save-CObizgqt.js";const U=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],H=W("pen-tool",U),X={grundlagen:"Grundlagen",verkehr:"Verkehr",autobahn:"Autobahn",parken:"Parken",sonderfahrten:"Sonderfahrten"},Y={id:"1",studentId:"1",studentName:"Max Mustermann",studentPhone:"+49 151 12345678",date:"Heute",time:"09:00",endTime:"10:30",duration:90,type:"normal",location:"Wolbecker Str. 25, MÃ¼nster",status:"in-progress",rating:0,instructorNotes:"",studentComment:"",exercises:[{id:"1",name:"Anfahren & Anhalten",category:"grundlagen",completed:!0},{id:"2",name:"Schalten",category:"grundlagen",completed:!0},{id:"3",name:"LenkÃ¼bungen",category:"grundlagen",completed:!1},{id:"4",name:"Vorfahrt beachten",category:"verkehr",completed:!0},{id:"5",name:"Kreisverkehr",category:"verkehr",completed:!0},{id:"6",name:"Ampelverhalten",category:"verkehr",completed:!1},{id:"7",name:"Schulterblick",category:"verkehr",completed:!0},{id:"8",name:"Einparken lÃ¤ngs",category:"parken",completed:!1},{id:"9",name:"Einparken quer",category:"parken",completed:!0},{id:"10",name:"RÃ¼ckwÃ¤rts einparken",category:"parken",completed:!1},{id:"11",name:"Wenden/Umkehren",category:"parken",completed:!0}]},Z=()=>{const g=a.useRef(null),[r,d]=a.useState(Y),[m,k]=a.useState(!1),c=a.useRef(null),[v,f]=a.useState(!1);a.useEffect(()=>{g.current&&l.fromTo(g.current,{opacity:0},{opacity:1,duration:.5,ease:"power2.out"}),l.fromTo(".detail-section",{opacity:0,y:20},{opacity:1,y:0,duration:.4,stagger:.1,ease:"power2.out"})},[]);const S=t=>{d(n=>({...n,exercises:n.exercises.map(o=>o.id===t?{...o,completed:!o.completed}:o)})),l.fromTo(`#exercise-${t}`,{scale:1.05},{scale:1,duration:.2,ease:"elastic.out(1, 0.3)"})},z=t=>{d(n=>({...n,rating:t})),l.fromTo(".star-rating",{scale:1.1},{scale:1,duration:.3,ease:"power2.out"})},w=r.exercises.reduce((t,n)=>(t[n.category]||(t[n.category]=[]),t[n.category].push(n),t),{}),y=r.exercises.filter(t=>t.completed).length,C=y/r.exercises.length*100,R=t=>({normal:"Ãœbungsfahrt",autobahn:"Autobahnfahrt",nacht:"Nachtfahrt",ueberlandfahrt:"Ãœberlandfahrt"})[t],p=t=>({normal:"#ff651d",autobahn:"#3b82f6",nacht:"#8b5cf6",ueberlandfahrt:"#10b981"})[t],b=t=>{f(!0);const n=c.current;if(!n)return;const o=n.getContext("2d");if(!o)return;const s=n.getBoundingClientRect(),h="touches"in t?t.touches[0].clientX-s.left:t.clientX-s.left,u="touches"in t?t.touches[0].clientY-s.top:t.clientY-s.top;o.beginPath(),o.moveTo(h,u)},j=t=>{if(!v)return;const n=c.current;if(!n)return;const o=n.getContext("2d");if(!o)return;const s=n.getBoundingClientRect(),h="touches"in t?t.touches[0].clientX-s.left:t.clientX-s.left,u="touches"in t?t.touches[0].clientY-s.top:t.clientY-s.top;o.lineWidth=2,o.lineCap="round",o.strokeStyle="#ff651d",o.lineTo(h,u),o.stroke()},x=()=>{f(!1)},B=()=>{const t=c.current;if(!t)return;const n=t.getContext("2d");n&&n.clearRect(0,0,t.width,t.height)},N=()=>{console.log("Saving lesson:",r),l.to(".save-button",{scale:.95,duration:.1,yoyo:!0,repeat:1})},i={background:"rgba(255, 255, 255, 0.03)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.08)",borderRadius:"20px"};return e.jsxs("div",{ref:g,style:{minHeight:"100vh",background:"#030303",color:"white",padding:"20px",paddingBottom:"120px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"20px"},children:[e.jsx("button",{onClick:()=>window.history.back(),style:{width:"44px",height:"44px",borderRadius:"12px",background:"rgba(255, 255, 255, 0.05)",border:"none",color:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:e.jsx(D,{size:22})}),e.jsxs("div",{style:{flex:1},children:[e.jsx("p",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.5)",marginBottom:"2px"},children:"Fahrstunde dokumentieren"}),e.jsxs("h1",{style:{fontSize:"20px",fontWeight:700},children:[r.date,", ",r.time]})]}),e.jsx("span",{style:{background:r.status==="in-progress"?"rgba(16, 185, 129, 0.2)":"rgba(255, 101, 29, 0.2)",color:r.status==="in-progress"?"#10b981":"#ff651d",padding:"6px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:600},children:r.status==="in-progress"?"ðŸ”´ Live":"Geplant"})]}),e.jsxs("div",{className:"detail-section",style:{...i,padding:"18px",marginBottom:"16px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"14px",marginBottom:"16px"},children:[e.jsx("div",{style:{width:"50px",height:"50px",borderRadius:"14px",background:`linear-gradient(135deg, ${p(r.type)}, ${p(r.type)}80)`,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(I,{size:24,style:{color:"white"}})}),e.jsxs("div",{style:{flex:1},children:[e.jsx("h3",{style:{fontSize:"18px",fontWeight:600,marginBottom:"4px"},children:r.studentName}),e.jsx("span",{style:{background:`${p(r.type)}30`,color:p(r.type),padding:"3px 10px",borderRadius:"8px",fontSize:"11px",fontWeight:600},children:R(r.type)})]}),e.jsx("a",{href:`tel:${r.studentPhone}`,style:{width:"44px",height:"44px",borderRadius:"12px",background:"rgba(16, 185, 129, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",color:"#10b981",textDecoration:"none"},children:e.jsx(T,{size:20})})]}),e.jsxs("div",{style:{display:"flex",gap:"16px",color:"rgba(255, 255, 255, 0.6)",fontSize:"13px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx(L,{size:14}),r.time," - ",r.endTime]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx(M,{size:14}),r.location.split(",")[0]]})]})]}),e.jsxs("div",{className:"detail-section",style:{...i,padding:"18px",marginBottom:"16px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[e.jsx("span",{style:{fontSize:"14px",fontWeight:600},children:"Fortschritt heute"}),e.jsxs("span",{style:{fontSize:"14px",color:"#ff651d",fontWeight:600},children:[y,"/",r.exercises.length]})]}),e.jsx("div",{style:{height:"8px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"4px",overflow:"hidden"},children:e.jsx("div",{style:{height:"100%",width:`${C}%`,background:"linear-gradient(90deg, #ff651d, #ff8a4d)",borderRadius:"4px",transition:"width 0.3s ease"}})})]}),e.jsxs("div",{className:"detail-section",style:{...i,padding:"18px",marginBottom:"16px"},children:[e.jsx("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"16px"},children:"Ãœbungen"}),Object.entries(w).map(([t,n])=>e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx("p",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.5)",marginBottom:"10px",textTransform:"uppercase",letterSpacing:"0.5px"},children:X[t]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:n.map(o=>e.jsxs("div",{id:`exercise-${o.id}`,onClick:()=>S(o.id),style:{display:"flex",alignItems:"center",gap:"12px",padding:"14px",borderRadius:"12px",background:o.completed?"rgba(16, 185, 129, 0.15)":"rgba(255, 255, 255, 0.03)",border:o.completed?"1px solid rgba(16, 185, 129, 0.3)":"1px solid rgba(255, 255, 255, 0.05)",cursor:"pointer",transition:"all 0.2s ease"},children:[o.completed?e.jsx(P,{size:22,style:{color:"#10b981",flexShrink:0}}):e.jsx(A,{size:22,style:{color:"rgba(255, 255, 255, 0.3)",flexShrink:0}}),e.jsx("span",{style:{fontSize:"15px",color:o.completed?"#10b981":"rgba(255, 255, 255, 0.8)",fontWeight:o.completed?500:400},children:o.name})]},o.id))})]},t))]}),e.jsxs("div",{className:"detail-section",style:{...i,padding:"18px",marginBottom:"16px"},children:[e.jsx("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"12px"},children:"Bewertung"}),e.jsx("div",{className:"star-rating",style:{display:"flex",gap:"8px",justifyContent:"center"},children:[1,2,3,4,5].map(t=>e.jsx("button",{onClick:()=>z(t),style:{width:"48px",height:"48px",borderRadius:"12px",background:t<=r.rating?"rgba(245, 158, 11, 0.2)":"rgba(255, 255, 255, 0.03)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},children:e.jsx(E,{size:28,fill:t<=r.rating?"#f59e0b":"transparent",style:{color:t<=r.rating?"#f59e0b":"rgba(255, 255, 255, 0.2)"}})},t))})]}),e.jsxs("div",{className:"detail-section",style:{...i,padding:"18px",marginBottom:"16px"},children:[e.jsx("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"12px"},children:"Notizen"}),e.jsx("textarea",{value:r.instructorNotes,onChange:t=>d(n=>({...n,instructorNotes:t.target.value})),placeholder:"Notizen zur Fahrstunde eingeben...",style:{width:"100%",minHeight:"100px",padding:"14px",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.1)",background:"rgba(255, 255, 255, 0.03)",color:"white",fontSize:"15px",resize:"vertical",outline:"none"}})]}),e.jsxs("div",{className:"detail-section",style:{...i,padding:"18px",marginBottom:"16px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px"},children:[e.jsx($,{size:18,style:{color:"#ff651d"}}),e.jsx("h3",{style:{fontSize:"16px",fontWeight:600},children:"Kommentar fÃ¼r SchÃ¼ler"})]}),e.jsx("textarea",{value:r.studentComment,onChange:t=>d(n=>({...n,studentComment:t.target.value})),placeholder:"Dieser Kommentar wird dem SchÃ¼ler angezeigt...",style:{width:"100%",minHeight:"80px",padding:"14px",borderRadius:"12px",border:"1px solid rgba(255, 101, 29, 0.3)",background:"rgba(255, 101, 29, 0.05)",color:"white",fontSize:"15px",resize:"vertical",outline:"none"}})]}),e.jsxs("div",{className:"detail-section",style:{...i,padding:"18px",marginBottom:"16px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"12px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(H,{size:18,style:{color:"#ff651d"}}),e.jsx("h3",{style:{fontSize:"16px",fontWeight:600},children:"Unterschrift (optional)"})]}),m&&e.jsx("button",{onClick:B,style:{padding:"6px 12px",borderRadius:"8px",border:"none",background:"rgba(239, 68, 68, 0.2)",color:"#ef4444",fontSize:"12px",cursor:"pointer"},children:"LÃ¶schen"})]}),m?e.jsx("canvas",{ref:c,width:300,height:150,onTouchStart:b,onTouchMove:j,onTouchEnd:x,onMouseDown:b,onMouseMove:j,onMouseUp:x,onMouseLeave:x,style:{width:"100%",height:"150px",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.1)",background:"rgba(255, 255, 255, 0.03)",touchAction:"none"}}):e.jsx("button",{onClick:()=>k(!0),style:{width:"100%",padding:"40px 20px",borderRadius:"12px",border:"2px dashed rgba(255, 255, 255, 0.1)",background:"transparent",color:"rgba(255, 255, 255, 0.4)",fontSize:"14px",cursor:"pointer"},children:"Tippen um zu unterschreiben"})]}),e.jsxs("button",{className:"save-button",onClick:N,style:{position:"fixed",bottom:"100px",left:"20px",right:"20px",padding:"18px",borderRadius:"16px",border:"none",background:"linear-gradient(135deg, #ff651d, #ff8a4d)",color:"white",fontSize:"16px",fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",boxShadow:"0 10px 30px rgba(255, 101, 29, 0.4)"},children:[e.jsx(F,{size:20}),"Fahrstunde speichern"]})]})};export{Z as default};
