import{c as j,r as x,j as t}from"./index-B6QIkEMM.js";import{D as R}from"./download-RNkAZiov.js";import{S as v}from"./share-2-BTnbOaNR.js";const w=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],y=j("qr-code",w);function M({data:e,size:r=200,color:i="ff651d",bgColor:u="ffffff",label:o,showDownload:d=!0,showShare:l=!1}){const[c,p]=x.useState(!0),[a,g]=x.useState(!1),f=`https://api.qrserver.com/v1/create-qr-code/?data=${encodeURIComponent(e)}&size=${r}x${r}&color=${i}&bgcolor=${u}&margin=10`,m=async()=>{try{const k=await(await fetch(f)).blob(),h=window.URL.createObjectURL(k),n=document.createElement("a");n.href=h,n.download=`qrcode-${o||"fahrwerk"}.png`,document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(h)}catch(s){console.error("Download failed:",s)}},b=async()=>{if(navigator.share)try{await navigator.share({title:o||"Fahrwerk QR Code",text:"Scanne diesen QR Code!",url:e})}catch(s){console.log("Share cancelled:",s)}else navigator.clipboard.writeText(e),alert("Link wurde in die Zwischenablage kopiert!")};return t.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"16px"},children:[t.jsxs("div",{style:{position:"relative",padding:"16px",background:"#fff",borderRadius:"16px",boxShadow:"0 4px 20px rgba(0,0,0,0.2)"},children:[c&&!a&&t.jsx("div",{style:{position:"absolute",inset:"16px",display:"flex",alignItems:"center",justifyContent:"center",background:"#fff"},children:t.jsx(y,{size:r*.4,style:{color:`#${i}`,opacity:.3,animation:"pulse 1.5s ease-in-out infinite"}})}),a&&t.jsxs("div",{style:{width:r,height:r,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"#f5f5f5",borderRadius:"8px",gap:"8px"},children:[t.jsx(y,{size:40,style:{color:"#ccc"}}),t.jsx("span",{style:{color:"#999",fontSize:"12px"},children:"QR Code nicht verfÃ¼gbar"})]}),!a&&t.jsx("img",{src:f,alt:o||"QR Code",width:r,height:r,style:{display:"block",borderRadius:"8px",opacity:c?0:1,transition:"opacity 0.3s ease"},onLoad:()=>p(!1),onError:()=>{p(!1),g(!0)}})]}),o&&t.jsx("p",{style:{fontSize:"14px",color:"rgba(255,255,255,0.6)",textAlign:"center"},children:o}),(d||l)&&!a&&t.jsxs("div",{style:{display:"flex",gap:"12px"},children:[d&&t.jsxs("button",{onClick:m,style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",borderRadius:"12px",background:`#${i}`,border:"none",color:"#fff",fontSize:"14px",fontWeight:500,cursor:"pointer",transition:"transform 0.2s, opacity 0.2s"},onMouseEnter:s=>{s.currentTarget.style.transform="scale(1.02)",s.currentTarget.style.opacity="0.9"},onMouseLeave:s=>{s.currentTarget.style.transform="scale(1)",s.currentTarget.style.opacity="1"},children:[t.jsx(R,{size:16}),"Download"]}),l&&t.jsxs("button",{onClick:b,style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",borderRadius:"12px",background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)",color:"#fff",fontSize:"14px",fontWeight:500,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:s=>{s.currentTarget.style.background="rgba(255,255,255,0.15)"},onMouseLeave:s=>{s.currentTarget.style.background="rgba(255,255,255,0.1)"},children:[t.jsx(v,{size:16}),"Teilen"]})]}),t.jsx("style",{children:`
        @keyframes pulse {
          0%, 100% { opacity: 0.3; }
          50% { opacity: 0.6; }
        }
      `})]})}function L(e){const r=["BEGIN:VCARD","VERSION:3.0",`N:${e.lastName};${e.firstName};;;`,`FN:${e.firstName} ${e.lastName}`];return e.company&&r.push(`ORG:${e.company}`),e.phone&&r.push(`TEL;TYPE=WORK,VOICE:${e.phone}`),e.email&&r.push(`EMAIL:${e.email}`),e.address&&r.push(`ADR;TYPE=WORK:;;${e.address};;;;`),e.website&&r.push(`URL:${e.website}`),r.push("END:VCARD"),r.join(`
`)}export{y as Q,M as a,L as g};
