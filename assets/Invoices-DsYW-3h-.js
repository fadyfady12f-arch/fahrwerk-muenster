import{r as p,j as e,C as u,X as y}from"./index-EljbsPLS.js";import{E as j}from"./euro-BxKlyrYr.js";import{C as c}from"./circle-check-big-z5TD7mzF.js";import{T as x}from"./triangle-alert-ChoAZUrX.js";import{S as v}from"./search-7brXMGcW.js";import{P as S}from"./plus-CRcVAEoO.js";import{F as z}from"./file-text-BxwS8d-v.js";import{C}from"./calendar-DkcCsT3t.js";import{D as k}from"./download-Cdymj9Qm.js";import{P as D}from"./printer-Dx7XE_cl.js";import{S as f}from"./send-CUZDUHki.js";import{C as w}from"./credit-card-DrSH_QNN.js";import{C as I}from"./circle-x-DooOEp37.js";import{P as E}from"./pen-CXy1jWkP.js";const K=()=>{const[a,b]=p.useState(""),[l,h]=p.useState("all"),[i,d]=p.useState(null),s=[{id:"1",invoiceNumber:"FW-2025-0042",studentId:"s1",studentName:"Anna Schmidt",studentEmail:"anna.schmidt@email.de",items:[{description:"Grundbetrag Klasse B",quantity:1,unitPrice:350,total:350},{description:"Fahrstunde (45 Min.)",quantity:20,unitPrice:55,total:1100},{description:"Sonderfahrten",quantity:12,unitPrice:65,total:780}],subtotal:2230,tax:0,total:2230,status:"paid",createdAt:"2025-01-15",dueDate:"2025-01-29",paidAt:"2025-01-25",paymentMethod:"Überweisung",notes:"",remindersSent:0},{id:"2",invoiceNumber:"FW-2025-0043",studentId:"s2",studentName:"Max Müller",studentEmail:"max.mueller@email.de",items:[{description:"Fahrstunde (45 Min.)",quantity:10,unitPrice:55,total:550},{description:"Theorieprüfung Gebühr",quantity:1,unitPrice:22.49,total:22.49}],subtotal:572.49,tax:0,total:572.49,status:"sent",createdAt:"2025-02-01",dueDate:"2025-02-15",paidAt:null,paymentMethod:null,notes:"Bitte per Überweisung bezahlen",remindersSent:0},{id:"3",invoiceNumber:"FW-2025-0044",studentId:"s3",studentName:"Lisa Wagner",studentEmail:"lisa.wagner@email.de",items:[{description:"Grundbetrag Klasse A2",quantity:1,unitPrice:400,total:400},{description:"Fahrstunde Motorrad (45 Min.)",quantity:15,unitPrice:60,total:900}],subtotal:1300,tax:0,total:1300,status:"overdue",createdAt:"2025-01-10",dueDate:"2025-01-24",paidAt:null,paymentMethod:null,notes:"",remindersSent:2},{id:"4",invoiceNumber:"FW-2025-0045",studentId:"s4",studentName:"Tom Becker",studentEmail:"tom.becker@email.de",items:[{description:"Praktische Prüfung Gebühr",quantity:1,unitPrice:116.93,total:116.93},{description:"Prüfungsvorbereitung (90 Min.)",quantity:2,unitPrice:95,total:190}],subtotal:306.93,tax:0,total:306.93,status:"draft",createdAt:"2025-02-05",dueDate:"2025-02-19",paidAt:null,paymentMethod:null,notes:"Entwurf - noch nicht gesendet",remindersSent:0},{id:"5",invoiceNumber:"FW-2025-0046",studentId:"s5",studentName:"Julia Hoffmann",studentEmail:"julia.hoffmann@email.de",items:[{description:"Fahrstunde (45 Min.)",quantity:5,unitPrice:55,total:275}],subtotal:275,tax:0,total:275,status:"paid",createdAt:"2025-02-03",dueDate:"2025-02-17",paidAt:"2025-02-05",paymentMethod:"Bar",notes:"",remindersSent:0}],n={total:s.reduce((t,r)=>t+r.total,0),paid:s.filter(t=>t.status==="paid").reduce((t,r)=>t+r.total,0),pending:s.filter(t=>t.status==="sent").reduce((t,r)=>t+r.total,0),overdue:s.filter(t=>t.status==="overdue").reduce((t,r)=>t+r.total,0),overdueCount:s.filter(t=>t.status==="overdue").length},g=t=>{const o={draft:{bg:"rgba(142,142,147,0.15)",color:"#8e8e93",label:"Entwurf",icon:e.jsx(E,{size:14})},sent:{bg:"rgba(0,122,255,0.15)",color:"#007aff",label:"Gesendet",icon:e.jsx(f,{size:14})},paid:{bg:"rgba(52,199,89,0.15)",color:"#34c759",label:"Bezahlt",icon:e.jsx(c,{size:14})},overdue:{bg:"rgba(255,59,48,0.15)",color:"#ff3b30",label:"Überfällig",icon:e.jsx(x,{size:14})},cancelled:{bg:"rgba(142,142,147,0.15)",color:"#8e8e93",label:"Storniert",icon:e.jsx(I,{size:14})}}[t];return e.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"6px 12px",borderRadius:"20px",background:o.bg,color:o.color,fontSize:"12px",fontWeight:"600"},children:[o.icon,o.label]})},m=s.filter(t=>{const r=t.invoiceNumber.toLowerCase().includes(a.toLowerCase())||t.studentName.toLowerCase().includes(a.toLowerCase()),o=l==="all"||t.status===l;return r&&o});return e.jsxs("div",{children:[e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"20px",marginBottom:"32px"},children:[{label:"Gesamtumsatz",value:`€${n.total.toLocaleString("de-DE")}`,icon:j,color:"#ff651d"},{label:"Bezahlt",value:`€${n.paid.toLocaleString("de-DE")}`,icon:c,color:"#34c759"},{label:"Ausstehend",value:`€${n.pending.toLocaleString("de-DE")}`,icon:u,color:"#007aff"},{label:"Überfällig",value:`€${n.overdue.toLocaleString("de-DE")}`,icon:x,color:"#ff3b30",badge:n.overdueCount}].map((t,r)=>e.jsx("div",{style:{background:"linear-gradient(135deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.02) 100%)",borderRadius:"16px",padding:"24px",border:"1px solid rgba(255,255,255,0.08)"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"28px",fontWeight:"700",color:"#fff"},children:t.value}),e.jsx("div",{style:{fontSize:"13px",color:"rgba(255,255,255,0.5)",marginTop:"4px"},children:t.label})]}),e.jsxs("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:`${t.color}20`,display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:[e.jsx(t.icon,{size:24,color:t.color}),t.badge&&t.badge>0&&e.jsx("span",{style:{position:"absolute",top:"-6px",right:"-6px",width:"20px",height:"20px",borderRadius:"50%",background:"#ff3b30",color:"#fff",fontSize:"11px",fontWeight:"700",display:"flex",alignItems:"center",justifyContent:"center"},children:t.badge})]})]})},r))}),n.overdueCount>0&&e.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(255,59,48,0.1) 0%, rgba(255,59,48,0.05) 100%)",borderRadius:"16px",padding:"20px 24px",marginBottom:"24px",border:"1px solid rgba(255,59,48,0.2)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[e.jsx(x,{size:24,color:"#ff3b30"}),e.jsxs("div",{children:[e.jsxs("div",{style:{fontSize:"15px",fontWeight:"600",color:"#fff"},children:[n.overdueCount," überfällige Rechnung",n.overdueCount>1?"en":""]}),e.jsxs("div",{style:{fontSize:"13px",color:"rgba(255,255,255,0.5)"},children:["Gesamt: €",n.overdue.toLocaleString("de-DE")," ausstehend"]})]})]}),e.jsx("button",{style:{padding:"10px 20px",background:"rgba(255,59,48,0.2)",border:"1px solid rgba(255,59,48,0.3)",borderRadius:"10px",color:"#ff3b30",fontSize:"13px",fontWeight:"600",cursor:"pointer"},children:"Mahnungen senden"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"24px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 20px",background:"rgba(255,255,255,0.05)",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.08)",width:"280px"},children:[e.jsx(v,{size:18,color:"rgba(255,255,255,0.4)"}),e.jsx("input",{type:"text",placeholder:"Rechnung oder Schüler suchen...",value:a,onChange:t=>b(t.target.value),style:{background:"transparent",border:"none",color:"#fff",fontSize:"14px",width:"100%",outline:"none"}})]}),e.jsxs("select",{value:l,onChange:t=>h(t.target.value),style:{padding:"12px 16px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"12px",color:"#fff",fontSize:"14px",cursor:"pointer",outline:"none"},children:[e.jsx("option",{value:"all",children:"Alle Status"}),e.jsx("option",{value:"draft",children:"Entwurf"}),e.jsx("option",{value:"sent",children:"Gesendet"}),e.jsx("option",{value:"paid",children:"Bezahlt"}),e.jsx("option",{value:"overdue",children:"Überfällig"})]})]}),e.jsxs("button",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 24px",background:"linear-gradient(135deg, #ff651d 0%, #ff8a4c 100%)",border:"none",borderRadius:"12px",color:"#fff",fontSize:"14px",fontWeight:"600",cursor:"pointer",boxShadow:"0 4px 15px rgba(255,101,29,0.3)"},children:[e.jsx(S,{size:18}),"Neue Rechnung"]})]}),e.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.02) 100%)",borderRadius:"20px",border:"1px solid rgba(255,255,255,0.08)",overflow:"hidden"},children:[e.jsx("div",{style:{display:"grid",gridTemplateColumns:"140px 1fr 120px 120px 100px 140px",gap:"16px",padding:"16px 24px",background:"rgba(255,255,255,0.03)",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:["Rechnung","Schüler","Datum","Fällig","Betrag","Status"].map(t=>e.jsx("div",{style:{fontSize:"12px",fontWeight:"600",color:"rgba(255,255,255,0.5)",textTransform:"uppercase"},children:t},t))}),m.map(t=>e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"140px 1fr 120px 120px 100px 140px",gap:"16px",padding:"20px 24px",borderBottom:"1px solid rgba(255,255,255,0.05)",cursor:"pointer",transition:"background 0.2s"},onMouseEnter:r=>r.currentTarget.style.background="rgba(255,255,255,0.03)",onMouseLeave:r=>r.currentTarget.style.background="transparent",onClick:()=>d(t),children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx(z,{size:18,color:"#ff651d"}),e.jsx("span",{style:{fontSize:"14px",fontWeight:"600",color:"#fff"},children:t.invoiceNumber})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"14px",color:"#fff"},children:t.studentName}),e.jsx("div",{style:{fontSize:"12px",color:"rgba(255,255,255,0.4)"},children:t.studentEmail})]}),e.jsx("div",{style:{fontSize:"14px",color:"rgba(255,255,255,0.6)"},children:new Date(t.createdAt).toLocaleDateString("de-DE")}),e.jsx("div",{style:{fontSize:"14px",color:t.status==="overdue"?"#ff3b30":"rgba(255,255,255,0.6)"},children:new Date(t.dueDate).toLocaleDateString("de-DE")}),e.jsxs("div",{style:{fontSize:"15px",fontWeight:"600",color:"#fff"},children:["€",t.total.toLocaleString("de-DE",{minimumFractionDigits:2})]}),e.jsx("div",{children:g(t.status)})]},t.id))]}),i&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.8)",backdropFilter:"blur(10px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>d(null),children:e.jsxs("div",{style:{width:"650px",maxHeight:"85vh",overflowY:"auto",background:"linear-gradient(135deg, rgba(30,30,30,0.98) 0%, rgba(20,20,20,0.98) 100%)",borderRadius:"24px",padding:"32px",border:"1px solid rgba(255,255,255,0.1)"},onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",marginBottom:"24px"},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[e.jsx("h2",{style:{margin:0,color:"#fff",fontSize:"22px"},children:i.invoiceNumber}),g(i.status)]}),e.jsxs("div",{style:{fontSize:"14px",color:"rgba(255,255,255,0.5)"},children:[i.studentName," • ",i.studentEmail]})]}),e.jsx("button",{onClick:()=>d(null),style:{width:"40px",height:"40px",borderRadius:"10px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:e.jsx(y,{size:20,color:"rgba(255,255,255,0.5)"})})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px",marginBottom:"24px"},children:[{label:"Erstellt",value:new Date(i.createdAt).toLocaleDateString("de-DE"),icon:C},{label:"Fällig",value:new Date(i.dueDate).toLocaleDateString("de-DE"),icon:u},{label:"Bezahlt",value:i.paidAt?new Date(i.paidAt).toLocaleDateString("de-DE"):"–",icon:c}].map((t,r)=>e.jsxs("div",{style:{padding:"16px",background:"rgba(255,255,255,0.03)",borderRadius:"12px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px"},children:[e.jsx(t.icon,{size:14,color:"rgba(255,255,255,0.4)"}),e.jsx("span",{style:{fontSize:"12px",color:"rgba(255,255,255,0.4)"},children:t.label})]}),e.jsx("div",{style:{fontSize:"15px",fontWeight:"500",color:"#fff"},children:t.value})]},r))}),e.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",borderRadius:"12px",padding:"20px",marginBottom:"24px"},children:[e.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#fff",marginBottom:"16px"},children:"Positionen"}),e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsx("tr",{children:["Beschreibung","Menge","Einzelpreis","Gesamt"].map(t=>e.jsx("th",{style:{textAlign:t==="Beschreibung"?"left":"right",padding:"8px 0",fontSize:"12px",color:"rgba(255,255,255,0.4)",fontWeight:"500",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:t},t))})}),e.jsx("tbody",{children:i.items.map((t,r)=>e.jsxs("tr",{children:[e.jsx("td",{style:{padding:"12px 0",fontSize:"14px",color:"#fff"},children:t.description}),e.jsx("td",{style:{padding:"12px 0",fontSize:"14px",color:"rgba(255,255,255,0.6)",textAlign:"right"},children:t.quantity}),e.jsxs("td",{style:{padding:"12px 0",fontSize:"14px",color:"rgba(255,255,255,0.6)",textAlign:"right"},children:["€",t.unitPrice.toFixed(2)]}),e.jsxs("td",{style:{padding:"12px 0",fontSize:"14px",color:"#fff",fontWeight:"500",textAlign:"right"},children:["€",t.total.toFixed(2)]})]},r))})]}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end",paddingTop:"16px",marginTop:"16px",borderTop:"1px solid rgba(255,255,255,0.1)"},children:e.jsxs("div",{style:{textAlign:"right"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:"40px",marginBottom:"8px"},children:[e.jsx("span",{style:{fontSize:"14px",color:"rgba(255,255,255,0.5)"},children:"Zwischensumme"}),e.jsxs("span",{style:{fontSize:"14px",color:"#fff"},children:["€",i.subtotal.toFixed(2)]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:"40px"},children:[e.jsx("span",{style:{fontSize:"16px",fontWeight:"600",color:"#fff"},children:"Gesamt"}),e.jsxs("span",{style:{fontSize:"18px",fontWeight:"700",color:"#ff651d"},children:["€",i.total.toFixed(2)]})]})]})})]}),e.jsxs("div",{style:{display:"flex",gap:"12px"},children:[e.jsxs("button",{style:{flex:1,padding:"14px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",color:"#fff",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[e.jsx(k,{size:16}),"PDF"]}),e.jsxs("button",{style:{flex:1,padding:"14px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",color:"#fff",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[e.jsx(D,{size:16}),"Drucken"]}),i.status==="draft"&&e.jsxs("button",{style:{flex:1,padding:"14px",background:"linear-gradient(135deg, #ff651d 0%, #ff8a4c 100%)",border:"none",borderRadius:"12px",color:"#fff",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[e.jsx(f,{size:16}),"Senden"]}),(i.status==="sent"||i.status==="overdue")&&e.jsxs("button",{style:{flex:1,padding:"14px",background:"rgba(52,199,89,0.1)",border:"1px solid rgba(52,199,89,0.2)",borderRadius:"12px",color:"#34c759",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[e.jsx(w,{size:16}),"Als bezahlt markieren"]})]})]})})]})};export{K as default};
