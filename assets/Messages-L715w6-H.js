import{c as S,r as s,j as e,U as w,P as z}from"./index-B6QIkEMM.js";import{M as C,a as M,F as I,B as g}from"./Modal-CS0miFtj.js";import{S as R}from"./search-DRv4rG2H.js";import{U as W}from"./users-Bv4x0aAp.js";import{G as B}from"./graduation-cap-M7Xp43F8.js";import{V as F}from"./video-4PiGllCm.js";import{E as T}from"./ellipsis-vertical-CivL0c0Z.js";import{C as E,S as N}from"./smile-CjCBEflE.js";import{C as A}from"./check-BwO-_mDL.js";import{P as L}from"./paperclip-BMNfdb_s.js";import{S as f}from"./send-DtBcG5kd.js";import{B as D}from"./bell-BN2Rr-ai.js";import"./index-DDlvirwQ.js";const K=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],P=S("megaphone",K),ee=()=>{const[t,u]=s.useState(null),[n,d]=s.useState(""),[p,h]=s.useState(""),[a,b]=s.useState("all"),[m,o]=s.useState(!1),c=s.useRef(null),y=[{id:"1",name:"Anna Schmidt",role:"student",lastMessage:"Super, dann sehen wir uns morgen!",time:"10:30",unread:2,online:!0},{id:"2",name:"Max Müller",role:"student",lastMessage:"Können wir die Fahrstunde verschieben?",time:"09:15",unread:0,online:!1},{id:"3",name:"Michael König",role:"instructor",lastMessage:"Prüfungstermin ist bestätigt",time:"Gestern",unread:0,online:!0},{id:"4",name:"Lisa Wagner",role:"student",lastMessage:"Danke für die Info!",time:"Gestern",unread:0,online:!1},{id:"5",name:"Sandra Weber",role:"instructor",lastMessage:"Urlaubsantrag eingereicht",time:"Mo",unread:1,online:!1},{id:"6",name:"Tom Becker",role:"student",lastMessage:"Wie läuft die Theorieprüfung ab?",time:"Mo",unread:0,online:!0},{id:"7",name:"Klaus Fischer",role:"instructor",lastMessage:"Fahrzeug ist bereit",time:"So",unread:0,online:!0}],j={1:[{id:"1",text:"Hallo Frau Schmidt! Wie geht es Ihnen?",sender:"me",time:"10:00",status:"read"},{id:"2",text:"Hallo! Mir geht es gut, danke! Ich freue mich auf die Fahrstunde morgen.",sender:"them",time:"10:15"},{id:"3",text:"Das freut mich! Haben Sie die Theoriefragen schon durchgearbeitet?",sender:"me",time:"10:20",status:"read"},{id:"4",text:"Ja, ich bin fast durch. Nur noch ein paar Kapitel.",sender:"them",time:"10:25"},{id:"5",text:"Super, dann sehen wir uns morgen!",sender:"them",time:"10:30"}],3:[{id:"1",text:"Hallo Michael, wie sieht es mit dem Prüfungstermin für Anna Schmidt aus?",sender:"me",time:"14:00",status:"read"},{id:"2",text:"Ich habe gerade mit dem TÜV telefoniert. Der Termin ist für den 20. Februar bestätigt.",sender:"them",time:"14:30"},{id:"3",text:"Prüfungstermin ist bestätigt",sender:"them",time:"14:32"}]},v=y.filter(r=>{const i=r.name.toLowerCase().includes(p.toLowerCase()),l=a==="all"||r.role===a;return i&&l}),x=()=>{!n.trim()||!t||(console.log("Sending message:",n),d(""))},k=()=>{c.current?.scrollIntoView({behavior:"smooth"})};return s.useEffect(()=>{k()},[t]),e.jsxs("div",{style:{display:"flex",height:"calc(100vh - 180px)",gap:"24px"},children:[e.jsxs("div",{style:{width:"340px",background:"linear-gradient(135deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.02) 100%)",backdropFilter:"blur(20px)",borderRadius:"20px",border:"1px solid rgba(255,255,255,0.08)",display:"flex",flexDirection:"column",overflow:"hidden"},children:[e.jsxs("div",{style:{padding:"20px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",background:"rgba(255,255,255,0.05)",borderRadius:"12px",marginBottom:"16px"},children:[e.jsx(R,{size:18,color:"rgba(255,255,255,0.4)"}),e.jsx("input",{type:"text",placeholder:"Suchen...",value:p,onChange:r=>h(r.target.value),style:{flex:1,background:"transparent",border:"none",color:"#fff",fontSize:"14px",outline:"none"}})]}),e.jsx("div",{style:{display:"flex",gap:"8px"},children:[{key:"all",label:"Alle",icon:W},{key:"student",label:"Schüler",icon:w},{key:"instructor",label:"Fahrlehrer",icon:B}].map(r=>e.jsxs("button",{onClick:()=>b(r.key),style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",padding:"10px",borderRadius:"10px",border:"none",background:a===r.key?"linear-gradient(135deg, #ff651d 0%, #ff8a4c 100%)":"rgba(255,255,255,0.05)",color:a===r.key?"#fff":"rgba(255,255,255,0.6)",fontSize:"12px",fontWeight:a===r.key?"600":"400",cursor:"pointer",transition:"all 0.3s ease"},children:[e.jsx(r.icon,{size:14}),r.label]},r.key))})]}),e.jsx("div",{style:{padding:"0 20px 16px"},children:e.jsxs("button",{onClick:()=>o(!0),style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"12px",borderRadius:"12px",background:"rgba(255,101,29,0.1)",border:"1px solid rgba(255,101,29,0.2)",color:"#ff651d",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.3s ease"},onMouseEnter:r=>{r.currentTarget.style.background="rgba(255,101,29,0.2)"},onMouseLeave:r=>{r.currentTarget.style.background="rgba(255,101,29,0.1)"},children:[e.jsx(P,{size:18}),"Broadcast-Nachricht"]})}),e.jsx("div",{style:{flex:1,overflowY:"auto",padding:"0 12px 12px"},children:v.map(r=>e.jsxs("div",{onClick:()=>u(r),style:{display:"flex",alignItems:"center",gap:"12px",padding:"14px",borderRadius:"14px",cursor:"pointer",background:t?.id===r.id?"rgba(255,101,29,0.15)":"transparent",border:t?.id===r.id?"1px solid rgba(255,101,29,0.2)":"1px solid transparent",marginBottom:"4px",transition:"all 0.3s ease"},onMouseEnter:i=>{t?.id!==r.id&&(i.currentTarget.style.background="rgba(255,255,255,0.05)")},onMouseLeave:i=>{t?.id!==r.id&&(i.currentTarget.style.background="transparent")},children:[e.jsxs("div",{style:{position:"relative"},children:[e.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"14px",background:r.role==="instructor"?"linear-gradient(135deg, #007aff 0%, #5ac8fa 100%)":"linear-gradient(135deg, #ff651d 0%, #ff8a4c 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",fontWeight:"700",color:"#fff"},children:r.name.split(" ").map(i=>i[0]).join("")}),r.online&&e.jsx("div",{style:{position:"absolute",bottom:"-2px",right:"-2px",width:"14px",height:"14px",borderRadius:"50%",background:"#34c759",border:"3px solid #0a0a0a"}})]}),e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx("span",{style:{fontSize:"15px",fontWeight:"500",color:"#fff",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:r.name}),e.jsx("span",{style:{fontSize:"12px",color:"rgba(255,255,255,0.4)"},children:r.time})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"4px"},children:[e.jsx("span",{style:{fontSize:"13px",color:"rgba(255,255,255,0.5)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"180px"},children:r.lastMessage}),r.unread>0&&e.jsx("span",{style:{minWidth:"20px",height:"20px",borderRadius:"10px",background:"#ff651d",color:"#fff",fontSize:"11px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",padding:"0 6px"},children:r.unread})]})]})]},r.id))})]}),e.jsx("div",{style:{flex:1,background:"linear-gradient(135deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.02) 100%)",backdropFilter:"blur(20px)",borderRadius:"20px",border:"1px solid rgba(255,255,255,0.08)",display:"flex",flexDirection:"column",overflow:"hidden"},children:t?e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{padding:"20px 24px",borderBottom:"1px solid rgba(255,255,255,0.08)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"14px"},children:[e.jsxs("div",{style:{position:"relative"},children:[e.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"12px",background:t.role==="instructor"?"linear-gradient(135deg, #007aff 0%, #5ac8fa 100%)":"linear-gradient(135deg, #ff651d 0%, #ff8a4c 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"15px",fontWeight:"700",color:"#fff"},children:t.name.split(" ").map(r=>r[0]).join("")}),t.online&&e.jsx("div",{style:{position:"absolute",bottom:"-2px",right:"-2px",width:"12px",height:"12px",borderRadius:"50%",background:"#34c759",border:"2px solid #0a0a0a"}})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#fff"},children:t.name}),e.jsx("div",{style:{fontSize:"13px",color:"rgba(255,255,255,0.5)"},children:t.online?"Online":"Zuletzt online "+t.time})]})]}),e.jsx("div",{style:{display:"flex",gap:"8px"},children:[z,F,T].map((r,i)=>e.jsx("button",{style:{width:"40px",height:"40px",borderRadius:"12px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.3s ease"},onMouseEnter:l=>{l.currentTarget.style.background="rgba(255,255,255,0.1)"},onMouseLeave:l=>{l.currentTarget.style.background="rgba(255,255,255,0.05)"},children:e.jsx(r,{size:18,color:"rgba(255,255,255,0.7)"})},i))})]}),e.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"20px 24px",display:"flex",flexDirection:"column",gap:"16px"},children:[(j[t.id]||[]).map(r=>e.jsx("div",{style:{display:"flex",justifyContent:r.sender==="me"?"flex-end":"flex-start"},children:e.jsxs("div",{style:{maxWidth:"70%",padding:"14px 18px",borderRadius:r.sender==="me"?"18px 18px 4px 18px":"18px 18px 18px 4px",background:r.sender==="me"?"linear-gradient(135deg, #ff651d 0%, #ff8a4c 100%)":"rgba(255,255,255,0.08)",color:"#fff"},children:[e.jsx("div",{style:{fontSize:"14px",lineHeight:"1.5"},children:r.text}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"6px",marginTop:"6px"},children:[e.jsx("span",{style:{fontSize:"11px",color:r.sender==="me"?"rgba(255,255,255,0.7)":"rgba(255,255,255,0.4)"},children:r.time}),r.sender==="me"&&(r.status==="read"?e.jsx(E,{size:14,color:"rgba(255,255,255,0.9)"}):e.jsx(A,{size:14,color:"rgba(255,255,255,0.6)"}))]})]})},r.id)),e.jsx("div",{ref:c})]}),e.jsxs("div",{style:{padding:"20px 24px",borderTop:"1px solid rgba(255,255,255,0.08)",display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx("button",{style:{width:"44px",height:"44px",borderRadius:"12px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.3s ease"},onMouseEnter:r=>{r.currentTarget.style.background="rgba(255,255,255,0.1)"},onMouseLeave:r=>{r.currentTarget.style.background="rgba(255,255,255,0.05)"},children:e.jsx(L,{size:20,color:"rgba(255,255,255,0.6)"})}),e.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center",background:"rgba(255,255,255,0.05)",borderRadius:"14px",padding:"12px 16px",border:"1px solid rgba(255,255,255,0.1)"},children:[e.jsx("input",{type:"text",placeholder:"Nachricht schreiben...",value:n,onChange:r=>d(r.target.value),onKeyPress:r=>r.key==="Enter"&&x(),style:{flex:1,background:"transparent",border:"none",color:"#fff",fontSize:"14px",outline:"none"}}),e.jsx("button",{style:{background:"transparent",border:"none",cursor:"pointer",padding:"4px"},children:e.jsx(N,{size:20,color:"rgba(255,255,255,0.4)"})})]}),e.jsx("button",{onClick:x,style:{width:"44px",height:"44px",borderRadius:"12px",background:n.trim()?"linear-gradient(135deg, #ff651d 0%, #ff8a4c 100%)":"rgba(255,255,255,0.05)",border:"none",display:"flex",alignItems:"center",justifyContent:"center",cursor:n.trim()?"pointer":"default",transition:"all 0.3s ease",boxShadow:n.trim()?"0 4px 15px rgba(255,101,29,0.3)":"none"},children:e.jsx(f,{size:20,color:n.trim()?"#fff":"rgba(255,255,255,0.3)"})})]})]}):e.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"16px",color:"rgba(255,255,255,0.5)"},children:[e.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"24px",background:"rgba(255,101,29,0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(f,{size:36,color:"#ff651d"})}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"18px",fontWeight:"600",color:"#fff",marginBottom:"8px"},children:"Wähle einen Kontakt"}),e.jsx("div",{style:{fontSize:"14px"},children:"Wähle einen Kontakt aus der Liste, um eine Konversation zu starten"})]})]})}),e.jsxs(C,{isOpen:m,onClose:()=>o(!1),title:"Broadcast-Nachricht senden",size:"lg",footer:e.jsxs(e.Fragment,{children:[e.jsx(g,{variant:"secondary",onClick:()=>o(!1),children:"Abbrechen"}),e.jsx(g,{onClick:()=>o(!1),children:"Nachricht senden"})]}),children:[e.jsx(M,{label:"Empfänger",value:"",onChange:()=>{},options:[{value:"all",label:"Alle (Schüler & Fahrlehrer)"},{value:"students",label:"Nur Schüler"},{value:"instructors",label:"Nur Fahrlehrer"},{value:"active",label:"Nur aktive Schüler"}],required:!0}),e.jsx(I,{label:"Betreff",value:"",onChange:()=>{},placeholder:"z.B. Wichtige Mitteilung",required:!0}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"rgba(255,255,255,0.7)",marginBottom:"8px"},children:"Nachricht *"}),e.jsx("textarea",{placeholder:"Ihre Nachricht...",style:{width:"100%",minHeight:"120px",padding:"14px 16px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",color:"#fff",fontSize:"14px",resize:"vertical",outline:"none"}})]}),e.jsx("div",{style:{padding:"16px",background:"rgba(255,149,0,0.1)",borderRadius:"12px",border:"1px solid rgba(255,149,0,0.2)"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",color:"#ff9500"},children:[e.jsx(D,{size:18}),e.jsx("span",{style:{fontSize:"14px",fontWeight:"500"},children:"Diese Nachricht wird an alle ausgewählten Empfänger gesendet"})]})})]})]})};export{ee as default};
